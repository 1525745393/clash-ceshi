# ========================
# Clash-ALL ä¼˜åŒ–é…ç½® (OpenClash é€‚é…ç‰ˆ)
# ========================
proxy-providers:
  Mitceæœºåœº:
    url: "${{ secrets.MITCE_URL }}"
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    proxy: ç›´è¿ 
  HK-BEUP:
    url: "${{ secrets.HKBEUP_URL }}"
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    proxy: ç›´è¿ 

proxies:
  - {name: ç›´è¿, type: direct}
  - {name: æ‹’ç», type: reject}

# ========================
# ä¸»è¦ç«¯å£è®¾ç½®
# ========================
port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
tproxy-port: 7895
allow-lan: true
mode: rule
log-level: info
external-controller: 0.0.0.0:9090
secret: "123456"

# ========================
# DNS è®¾ç½®
# ========================
dns:
  enable: true
  listen: 0.0.0.0:7874
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.20.0.1/16
  nameserver:
    - 223.5.5.5
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - +.lan
    - +.local
    - geosite:cn

ipv6: true

# ========================
# TUN æ¨¡å—
# ========================
tun:
  enable: true
  stack: gvisor
  device: utun
  endpoint-independent-nat: true
  auto-route: false
  auto-detect-interface: false
  auto-redirect: false
  strict-route: false

profile:
  store-selected: true
  store-fake-ip: true

# ========================
# ç­–ç•¥ç»„å®šä¹‰
# ========================
default: &default
  type: select
  proxies:
    - ç›´è¿
    - æ‰€æœ‰-æ‰‹åŠ¨
    - æ‰€æœ‰-è‡ªåŠ¨
    - ğŸ‡­ğŸ‡° é¦™æ¸¯-æ•…è½¬
    - ğŸ‡²ğŸ‡´ æ¾³é—¨-æ•…è½¬
    - ğŸ‡¹ğŸ‡¼ å°æ¹¾-æ•…è½¬
    - ğŸ‡¯ğŸ‡µ æ—¥æœ¬-æ•…è½¬
    - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-æ•…è½¬
    - ğŸ‡°ğŸ‡· éŸ©å›½-æ•…è½¬
    - ğŸ‡ºğŸ‡¸ ç¾å›½-æ•…è½¬
    - ğŸ‡¬ğŸ‡§ è‹±å›½-æ•…è½¬
    - ğŸ‡¹ğŸ‡­ æ³°å›½-æ•…è½¬
    - ğŸ‡®ğŸ‡³ å°åº¦-æ•…è½¬
    - ğŸŒ å…¶ä»–-æ•…è½¬
    - æ‹’ç»

proxy-groups:
  - {name: ChatGPT, <<: *default}
  - {name: Gemini, <<: *default}
  - {name: YouTube, <<: *default}
  - {name: Netflix, <<: *default}
  - {name: AVTH, <<: *default}
  - {name: AVIN, <<: *default}
  - {name: å…¶ä»–, <<: *default}
  
  - name: æ‰€æœ‰-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "^((?!(ç›´è¿|æ‹’ç»)).)*$"
  - name: æ‰€æœ‰-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "^((?!(ç›´è¿|æ‹’ç»)).)*$"

  # åœ°åŒºç»„å®šä¹‰
  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸ‡­ğŸ‡° é¦™æ¸¯-æ‰‹åŠ¨, ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨]
  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "(é¦™æ¸¯|ğŸ‡­ğŸ‡°|Hong Kong|HK)"
  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(é¦™æ¸¯|ğŸ‡­ğŸ‡°|Hong Kong|HK)"

  - name: ğŸ‡²ğŸ‡´ æ¾³é—¨-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸ‡²ğŸ‡´ æ¾³é—¨-æ‰‹åŠ¨, ğŸ‡²ğŸ‡´ æ¾³é—¨-è‡ªåŠ¨]
  - name: ğŸ‡²ğŸ‡´ æ¾³é—¨-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "(æ¾³é—¨|ğŸ‡²ğŸ‡´|Macau|MO)"
  - name: ğŸ‡²ğŸ‡´ æ¾³é—¨-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(æ¾³é—¨|ğŸ‡²ğŸ‡´|Macau|MO)"

  - name: ğŸ‡¹ğŸ‡¼ å°æ¹¾-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸ‡¹ğŸ‡¼ å°æ¹¾-æ‰‹åŠ¨, ğŸ‡¹ğŸ‡¼ å°æ¹¾-è‡ªåŠ¨]
  - name: ğŸ‡¹ğŸ‡¼ å°æ¹¾-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "(å°æ¹¾|ğŸ‡¹ğŸ‡¼|Taiwan|TW)"
  - name: ğŸ‡¹ğŸ‡¼ å°æ¹¾-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(å°æ¹¾|ğŸ‡¹ğŸ‡¼|Taiwan|TW)"

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸ‡¯ğŸ‡µ æ—¥æœ¬-æ‰‹åŠ¨, ğŸ‡¯ğŸ‡µ æ—¥æœ¬-è‡ªåŠ¨]
  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "(æ—¥æœ¬|ğŸ‡¯ğŸ‡µ|Japan|JP)"
  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(æ—¥æœ¬|ğŸ‡¯ğŸ‡µ|Japan|JP)"

  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-æ‰‹åŠ¨, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-è‡ªåŠ¨]
  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "(æ–°åŠ å¡|ğŸ‡¸ğŸ‡¬|Singapore|SG)"
  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(æ–°åŠ å¡|ğŸ‡¸ğŸ‡¬|Singapore|SG)"

  - name: ğŸ‡°ğŸ‡· éŸ©å›½-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸ‡°ğŸ‡· éŸ©å›½-æ‰‹åŠ¨, ğŸ‡°ğŸ‡· éŸ©å›½-è‡ªåŠ¨]
  - name: ğŸ‡°ğŸ‡· éŸ©å›½-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "(éŸ©å›½|ğŸ‡°ğŸ‡·|Korea|KR)"
  - name: ğŸ‡°ğŸ‡· éŸ©å›½-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(éŸ©å›½|ğŸ‡°ğŸ‡·|Korea|KR)"

  - name: ğŸ‡ºğŸ‡¸ ç¾å›½-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸ‡ºğŸ‡¸ ç¾å›½-æ‰‹åŠ¨, ğŸ‡ºğŸ‡¸ ç¾å›½-è‡ªåŠ¨]
  - name: ğŸ‡ºğŸ‡¸ ç¾å›½-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "(ç¾å›½|ğŸ‡ºğŸ‡¸|United States|US)"
  - name: ğŸ‡ºğŸ‡¸ ç¾å›½-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(ç¾å›½|ğŸ‡ºğŸ‡¸|United States|US)"

  - name: ğŸ‡¬ğŸ‡§ è‹±å›½-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸ‡¬ğŸ‡§ è‹±å›½-æ‰‹åŠ¨, ğŸ‡¬ğŸ‡§ è‹±å›½-è‡ªåŠ¨]
  - name: ğŸ‡¬ğŸ‡§ è‹±å›½-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "(è‹±å›½|ğŸ‡¬ğŸ‡§|United Kingdom|UK|London)"
  - name: ğŸ‡¬ğŸ‡§ è‹±å›½-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(è‹±å›½|ğŸ‡¬ğŸ‡§|United Kingdom|UK|London)"

  - name: ğŸ‡¹ğŸ‡­ æ³°å›½-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸ‡¹ğŸ‡­ æ³°å›½-æ‰‹åŠ¨, ğŸ‡¹ğŸ‡­ æ³°å›½-è‡ªåŠ¨]
  - name: ğŸ‡¹ğŸ‡­ æ³°å›½-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "(æ³°å›½|ğŸ‡¹ğŸ‡­|Thailand|TH|Bangkok|BKK)"
  - name: ğŸ‡¹ğŸ‡­ æ³°å›½-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(æ³°å›½|ğŸ‡¹ğŸ‡­|Thailand|TH|Bangkok|BKK)"

  - name: ğŸ‡®ğŸ‡³ å°åº¦-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸ‡®ğŸ‡³ å°åº¦-æ‰‹åŠ¨, ğŸ‡®ğŸ‡³ å°åº¦-è‡ªåŠ¨]
  - name: ğŸ‡®ğŸ‡³ å°åº¦-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "(å°åº¦|ğŸ‡®ğŸ‡³|India|IN|Mumbai|Chennai|Bangalore|Delhi)"
  - name: ğŸ‡®ğŸ‡³ å°åº¦-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(å°åº¦|ğŸ‡®ğŸ‡³|India|IN|Mumbai|Chennai|Bangalore|Delhi)"

  - name: ğŸŒ å…¶ä»–-æ•…è½¬
    type: fallback
    interval: 300
    proxies: [ğŸŒ å…¶ä»–-æ‰‹åŠ¨, ğŸŒ å…¶ä»–-è‡ªåŠ¨]
  - name: ğŸŒ å…¶ä»–-æ‰‹åŠ¨
    type: select
    include-all: true
    filter: "^((?!(é¦™æ¸¯|æ¾³é—¨|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|éŸ©å›½|ç¾å›½|è‹±å›½|æ³°å›½|å°åº¦|ç›´è¿|æ‹’ç»)).)*$"
  - name: ğŸŒ å…¶ä»–-è‡ªåŠ¨
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "^((?!(é¦™æ¸¯|æ¾³é—¨|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|éŸ©å›½|ç¾å›½|è‹±å›½|æ³°å›½|å°åº¦|ç›´è¿|æ‹’ç»)).)*$"

# ========================
# è§„åˆ™éƒ¨åˆ†
# ========================
rules:
  - RULE-SET,AVTH / Domain,AVTH
  - RULE-SET,AVIN / Domain,AVIN
  - RULE-SET,Youtube / Domain,YouTube
  - RULE-SET,Netflix / Domain,Netflix
  - RULE-SET,China / Domain,ç›´è¿
  - MATCH,å…¶ä»–

rule-anchor:
  class: &class {type: http, interval: 86400, behavior: classical, format: text}

rule-providers:
  AVTH / Domain: {<<: *class, url: "https://raw.githubusercontent.com/1525745393/clash-ceshi/main/list/AVQVTH.list"}
  AVIN / Domain: {<<: *class, url: "https://raw.githubusercontent.com/1525745393/clash-ceshi/main/list/AVQVIN.list"}
  Youtube / Domain: {type: http, interval: 86400, behavior: domain, format: mrs, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/youtube.mrs"}
  Netflix / Domain: {type: http, interval: 86400, behavior: domain, format: mrs, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/netflix.mrs"}
  China / Domain: {type: http, interval: 86400, behavior: domain, format: mrs, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/cn.mrs"}
